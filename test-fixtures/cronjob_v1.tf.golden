resource "kubernetes_cron_job_v1" "hello" {
  metadata {
    name = "hello"
  }

  spec {
    schedule = "* * * * *"

    job_template {
      metadata {}

      spec {
        template {
          metadata {}

          spec {
            container {
              name              = "hello"
              image             = "busybox:1.28"
              command           = ["/bin/sh", "-c", "date; echo Hello from the Kubernetes cluster"]
              image_pull_policy = "IfNotPresent"
            }

            restart_policy = "OnFailure"
          }
        }
      }
    }
  }
}